/* =========================================================
   Mission43 Universal Form Core
   Version: 1.0
   Hosted via Cloudflare Pages
   ========================================================= */

/* =========================================================
   1. DESIGN TOKENS
   ========================================================= */

:root {
  --m43-red: #D41636;
  --m43-red-dark: #F02F4E;

  --m43-text-primary: #171717;
  --m43-text-muted: #6F7372;

  --m43-border: rgba(23,23,23,.15);
  --m43-fill: #E6E4E1;
  --m43-fill-focus: #EEEEEE;
  --m43-radius-input: 10px;
  --m43-radius-pill: 999px;
}

/* =========================================================
   2. GLOBAL TYPOGRAPHY NORMALIZATION
   ========================================================= */

.wFormContainer *:not(.htmlContent):not(.htmlContent *) {
  font-family: Inter, "Inter Placeholder", sans-serif !important;
  color: var(--m43-text-primary);
}

.wForm label.preField {
  font-family: "Inter Variable", Inter, sans-serif !important;
  font-size: 16px !important;
  font-weight: 500 !important;
  line-height: 1.3 !important;
  color: var(--m43-text-primary) !important;
}

/* =========================================================
   3. LAYOUT NORMALIZATION
   ========================================================= */

.wForm .oneField,
.wForm .inputWrapper {
  width: 100% !important;
  max-width: 100% !important;
}

.wForm .oneField {
  margin-bottom: 22px;
}

/* =========================================================
   4. INPUT SYSTEM
   ========================================================= */

.wForm input[type="text"],
.wForm input[type="email"],
.wForm input[type="tel"],
.wForm input[type="password"],
.wForm textarea,
.wForm select {
  appearance: none !important;
  font-family: "Inter Variable", Inter, sans-serif !important;
  background: var(--m43-fill) !important;
  border: 1px solid var(--m43-border) !important;
  border-radius: var(--m43-radius-input) !important;
  font-size: 16px !important;
  font-weight: 500 !important;
  padding: 12px 14px !important;
  min-height: 44px !important;
  box-sizing: border-box !important;
}

.wForm input:focus,
.wForm textarea:focus,
.wForm select:focus {
  outline: none !important;
  background: var(--m43-fill-focus) !important;
  border-color: var(--m43-red) !important;
  box-shadow: 0 0 0 3px rgba(240,47,78,.12) !important;
}

/* =========================================================
   5. BUTTON SYSTEM
   ========================================================= */

.wFormContainer .actions input[type="submit"],
.wFormContainer .wfPagingButtons input {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  background: var(--m43-red) !important;
  color: #ffffff !important;
  border-radius: 10px !important;
  height: 40px !important;
  padding: 0 24px !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  letter-spacing: -0.02em !important;
  text-transform: uppercase !important;
  line-height: 1em !important;
  border: none !important;
}

.wFormContainer .actions input[type="submit"]:hover,
.wFormContainer .wfPagingButtons input:hover {
  background: var(--m43-red-dark) !important;
}

/* =========================================================
   6. ERROR SYSTEM
   Subtle, modern, soft-background UI
   ========================================================= */

/* --- 6A. Summary Block --- */

.m43-error-summary {
  margin-bottom: 24px;
  padding: 18px 20px;
  background: rgba(212,22,54,.06);
  border-left: 4px solid var(--m43-red);
  border-radius: 10px;
  font-size: 14px;
  line-height: 1.5;
}

.m43-error-summary strong {
  font-weight: 600;
  font-size: 15px;
  display: block;
  margin-bottom: 8px;
}

.m43-error-summary ul {
  margin: 0;
  padding-left: 18px;
}

.m43-error-summary li {
  margin-bottom: 6px;
}

/* --- 6B. Inline Field Error --- */

.m43-inline-error {
  margin-top: 6px;
  font-size: 13px;
  font-weight: 500;
  color: var(--m43-red);
  line-height: 1.4;
}

/* --- 6C. Field Error State --- */

.wForm input.m43-field-error,
.wForm textarea.m43-field-error,
.wForm select.m43-field-error {
  border-color: var(--m43-red) !important;
  box-shadow: 0 0 0 3px rgba(240,47,78,.12) !important;
  transition: border-color .15s ease, box-shadow .15s ease;
}

/* =========================================================
   7. CHOICES ALIGNMENT (Checkbox / Radio)
   ========================================================= */

.wForm .choices .oneChoice {
  display: flex !important;
  align-items: flex-start !important;
  gap: 10px !important;
  margin-bottom: 8px;
}

/* =========================================================
   7A. CARD-STYLE CHECKBOX / RADIO SYSTEM
   ========================================================= */

.wForm .choices .oneChoice {
  margin-bottom: 12px !important;
}

.wForm input[type="checkbox"],
.wForm input[type="radio"] {
  position: absolute !important;
  opacity: 0 !important;
  pointer-events: none !important;
  width: 0 !important;
  height: 0 !important;
}

.wForm .choices .oneChoice label.postField {
  display: flex !important;
  align-items: center !important;
  gap: 14px !important;
  width: 100% !important;
  padding: 14px 16px !important;
  background: var(--m43-fill) !important;
  border-radius: 10px !important;
  border: 1px solid transparent !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: background .15s ease, border-color .15s ease, box-shadow .15s ease !important;
  box-sizing: border-box !important;
}

/* --- Neutralize FormAssembly default faux checkbox rendering --- */
.wForm .choices .oneChoice label.postField .input-checkbox-faux::before,
.wForm .choices .oneChoice label.postField .input-checkbox-faux::after {
  content: none !important;
}

.wForm .choices .oneChoice label.postField .input-checkbox-faux {
  box-shadow: none !important;
  background-image: none !important;
}

/* Faux checkbox alignment */
.wForm .choices .oneChoice label.postField .input-checkbox-faux {
  width: 18px !important;
  height: 18px !important;
  border-radius: 4px !important;
  border: 1px solid var(--m43-border) !important;
  background: #ffffff !important;
  flex-shrink: 0 !important;
  position: relative !important;
}

/* --- Radio Faux (Correct Class) --- */

.wForm .choices .oneChoice label.postField .input-radio-faux {
  width: 18px !important;
  height: 18px !important;
  border-radius: 50% !important;
  border: 1px solid var(--m43-border) !important;
  background: #ffffff !important;
  flex-shrink: 0 !important;
  position: relative !important;
  box-shadow: none !important;
  background-image: none !important;
}

.wForm .choices .oneChoice input[type="radio"]:checked + label.postField .input-radio-faux {
  background: var(--m43-red) !important;
  border-color: var(--m43-red) !important;
}

.wForm .choices .oneChoice input[type="radio"]:checked + label.postField .input-radio-faux::after {
  content: "" !important;
  position: absolute !important;
  width: 8px !important;
  height: 8px !important;
  background: #ffffff !important;
  border-radius: 50% !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
}

/* Checked state */
.wForm .choices .oneChoice input:checked + label.postField {
  background: rgba(240,47,78,.08) !important;
  border-color: var(--m43-red) !important;
}

/* Checked check indicator */
.wForm .choices .oneChoice input:checked + label.postField .input-checkbox-faux {
  background: var(--m43-red) !important;
  border-color: var(--m43-red) !important;
}

.wForm .choices .oneChoice input:checked + label.postField .input-checkbox-faux::after {
  content: "" !important;
  position: absolute !important;
  left: 4px !important;
  top: 1px !important;
  width: 5px !important;
  height: 10px !important;
  border: solid #ffffff !important;
  border-width: 0 2px 2px 0 !important;
  transform: rotate(45deg) !important;
}

/* =========================================================
   8. GUEST REPEATER GRID FIX (UNIVERSAL)
   ========================================================= */

@media (min-width: 768px) {

  .wForm .removeable.section.inline.group {
    display: grid !important;
    grid-template-columns: 1fr 1fr;
    column-gap: 32px;
    align-items: start;
  }

  .wForm .removeable.section.inline.group > .oneField:nth-of-type(1) {
    grid-column: 1;
  }

  .wForm .removeable.section.inline.group > .oneField:nth-of-type(2) {
    grid-column: 2;
  }
}

/* =========================================================
   9. MOBILE OPTIMIZATION
   ========================================================= */

@media (max-width: 768px) {

  .wFormContainer {
    padding: 0 16px;
  }

  .wFormContainer .actions input[type="submit"],
  .wFormContainer .wfPagingButtons input {
    width: 100% !important;
  }

  .wForm .oneField {
    margin-bottom: 24px;
  }

  /* --- Force inline grouped fields to stack on mobile --- */
  .wForm .section.inline,
  .wForm .inline.group,
  .wForm .oneField.inline {
    display: block !important;
    width: 100% !important;
  }

  /* Force grouped inline fields to stack on mobile */
  .wForm .section.inline .oneField {
    display: block !important;
    width: 100% !important;
  }

  .wForm .section.inline .oneField,
  .wForm .inline.group .oneField {
    width: 100% !important;
    max-width: 100% !important;
  }
}
