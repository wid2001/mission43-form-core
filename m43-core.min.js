!function(){const e=!!window.M43_DEBUG;function t(){e&&console.log.apply(console,["[M43]",...arguments])}function n(){return!!window.M43_PROFILE}function r(e){return n()&&window.performance&&performance.now?{label:e,start:performance.now()}:null}function o(e){if(!(n()&&e&&window.performance&&performance.now))return;const t=performance.now()-e.start;console.log("[M43 PROFILE]",e.label+":",t.toFixed(2)+"ms")}const s={mask:"(000) 000-0000",lazy:!0,placeholderChar:"_"},i={promise:null};function a(e){if(!e||"true"===e.dataset.m43MaskApplied)return;if(e.disabled)return;const t=(e.getAttribute("type")||"").toLowerCase();t&&"tel"!==t&&"text"!==t||(window.IMask?Promise.resolve(window.IMask):(i.promise||(i.promise=new Promise((e,t)=>{const n=document.querySelector("script[data-m43-imask]");if(n)return n.addEventListener("load",()=>e(window.IMask)),void n.addEventListener("error",t);const r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/imask@7.6.1/dist/imask.min.js",r.async=!0,r.defer=!0,r.setAttribute("data-m43-imask","true"),r.onload=()=>e(window.IMask),r.onerror=t,document.head.appendChild(r)})),i.promise)).then(t=>{if(!t||"true"===e.dataset.m43MaskApplied)return;try{e.__m43IMask&&"function"==typeof e.__m43IMask.destroy&&e.__m43IMask.destroy()}catch(e){}e.__m43IMask=null;const n=t(e,s);e.__m43IMask=n,e.dataset.m43MaskApplied="true",n.on("accept",()=>{y(e),e.classList.contains("calc-phone")&&E(e)}),n.on("complete",()=>{y(e),e.classList.contains("calc-phone")&&E(e)});try{n.updateValue()}catch(e){}y(e)}).catch(()=>{})}const c={selectors:{form:"form",email:"input.calc-email",confirmEmail:"input.calc-confirmEmail",phone:"input.calc-phone",contactLookupIdentifier:"input.calc-contactLookupIdentifier",formName:"input.calc-formName",formTitle:".wFormTitle"},messages:{emailRequired:"Email is required.",emailInvalid:"Enter a valid email address.",confirmRequired:"Please confirm your email.",emailMismatch:"Email addresses must match.",phoneRequired:"Phone number is required.",phoneInvalid:"Enter a valid 10-digit phone number."}};function l(e,t){const n=Array.isArray(e)?e.slice():{...e};return t&&"object"==typeof t?(Object.keys(t).forEach(r=>{const o=e?e[r]:void 0,s=t[r];s&&"object"==typeof s&&!Array.isArray(s)?n[r]=l(o||{},s):n[r]=s}),n):n}const u=function(){const e=window.M43_FORM_CONFIG;return l(c,e)}();function m(e,t){if(!e)return;e.classList.add("m43-field-container-error");const n=e.querySelector("input, textarea, select"),r=document.createElement("div");r.className="m43-inline-error",r.textContent=t;const o=(n&&n.id?n.id:"m43")+"-error";if(r.id=o,n){n.setAttribute("aria-invalid","true");const e=n.getAttribute("aria-describedby");e?e.split(" ").includes(o)||n.setAttribute("aria-describedby",e+" "+o):n.setAttribute("aria-describedby",o)}e.appendChild(r)}function d(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function f(e){if(!e)return"";const t=e.__m43IMask;return t&&"string"==typeof t.unmaskedValue?t.unmaskedValue:(e.value||"").replace(/\D/g,"")}const p="boolean"!=typeof window.M43_ENABLE_IDENTIFIER||window.M43_ENABLE_IDENTIFIER,h={"à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","ā":"a","ă":"a","ą":"a","æ":"ae","ç":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ď":"d","đ":"d","è":"e","é":"e","ê":"e","ë":"e","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","ğ":"g","ġ":"g","ģ":"g","ĥ":"h","ì":"i","í":"i","î":"i","ï":"i","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","ñ":"n","ń":"n","ņ":"n","ň":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ō":"o","ŏ":"o","ő":"o","œ":"oe","ŕ":"r","ŗ":"r","ř":"r","ś":"s","ŝ":"s","ş":"s","š":"s","ß":"ss","ţ":"t","ť":"t","ț":"t","ù":"u","ú":"u","û":"u","ü":"u","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","ý":"y","ÿ":"y","ź":"z","ż":"z","ž":"z","þ":"th"};function v(e){if(!e)return null;const t=function(e){let t="";for(let n=0;n<e.length;n++){const r=e.charAt(n);t+=h[r]||r}return t}(e.trim().toLowerCase());return t.length?t:null}function g(e){if(!e)return;const t=e.querySelector("input.calc-fname"),n=e.querySelector("input.calc-lname"),r=e.querySelector(u.selectors.phone),o=e.querySelector(u.selectors.contactLookupIdentifier);if(!(t&&n&&r&&o))return;o.hasAttribute("readonly")||o.setAttribute("readonly","readonly");const s=v(t.value),i=function(e){const t=v(e);if(!t)return null;const n=t.replace(/[^a-z0-9]/g,"");return n.length?n:null}(n.value),a=function(e){const t=f(e);return t&&t.length?t:null}(r);if(!s||!i||!a)return void(o.value="");const c=s.substring(0,1);o.value=c+i+a}function y(e){if(!e||!e.classList)return;const t=e.getAttribute&&e.getAttribute("type")||"";if("button"===t||"submit"===t||"reset"===t)return;if("radio"===t||"checkbox"===t||"hidden"===t)return;const n=(e.value||"").toString().trim();e.classList.toggle("m43-has-value",n.length>0)}function b(e){const n=r("validateForm");let s=!0;!function(e){e.querySelectorAll(".m43-inline-error").forEach(e=>e.remove()),e.querySelectorAll(".oneField.m43-field-container-error").forEach(e=>e.classList.remove("m43-field-container-error"));const t=e.querySelector(".m43-error-summary");t&&(t.classList.add("m43-summary-resolving"),setTimeout(()=>{t.remove()},300)),e.querySelectorAll('[aria-invalid="true"]').forEach(e=>{e.removeAttribute("aria-invalid");const t=e.getAttribute("aria-describedby");if(!t)return;const n=t.split(" ").filter(e=>!e.endsWith("-error")).join(" ").trim();n?e.setAttribute("aria-describedby",n):e.removeAttribute("aria-describedby")})}(e);const i=[],a=u;t("validateForm called");const c=e.querySelector(a.selectors.email),l=e.querySelector(a.selectors.confirmEmail),p=e.querySelector(a.selectors.phone);if(c){const e=c.closest(".oneField"),t=(c.value||"").trim();t?d(t)||(m(e,a.messages.emailInvalid),i.push({message:a.messages.emailInvalid,fieldId:c.id}),s=!1):(m(e,a.messages.emailRequired),i.push({message:a.messages.emailRequired,fieldId:c.id}),s=!1)}if(l){const e=l.closest(".oneField"),t=c?(c.value||"").trim().toLowerCase():"",n=(l.value||"").trim().toLowerCase();n?t&&n&&t!==n&&(m(e,a.messages.emailMismatch),i.push({message:a.messages.emailMismatch,fieldId:l.id}),s=!1):(m(e,a.messages.confirmRequired),i.push({message:a.messages.confirmRequired,fieldId:l.id}),s=!1)}if(p){const e=p.closest(".oneField"),t=f(p);t?10!==t.length&&(m(e,a.messages.phoneInvalid),i.push({message:a.messages.phoneInvalid,fieldId:p.id}),s=!1):(m(e,a.messages.phoneRequired),i.push({message:a.messages.phoneRequired,fieldId:p.id}),s=!1)}if(!s){!function(e,t){if(!e||!t||!t.length)return;const n=e.querySelector(".m43-error-summary");n&&n.remove();const r=document.createElement("div");r.className="m43-error-summary",r.setAttribute("role","alert"),r.setAttribute("aria-live","assertive");const o=document.createElement("div");o.className="m43-error-summary-heading",o.textContent="Please correct the following:",r.appendChild(o);const s=document.createElement("ul");t.forEach(t=>{const n="string"==typeof t?t:t.message,r="string"==typeof t?null:t.fieldId,o=document.createElement("li"),i=document.createElement("a");i.href="#",i.textContent=n,i.addEventListener("click",function(t){t.preventDefault();let n=null;r&&(n=e.querySelector("#"+CSS.escape(r))),n||(n=e.querySelector('[aria-invalid="true"]')),n&&(n.focus({preventScroll:!1}),n.scrollIntoView({behavior:"smooth",block:"center"}))}),o.appendChild(i),s.appendChild(o)}),r.appendChild(s),e.prepend(r),r.scrollIntoView({behavior:"smooth",block:"start"})}(e,i);const t=e.querySelector(".m43-field-container-error");if(t){const e=t.querySelector("input, textarea, select");e&&(e.focus({preventScroll:!1}),e.scrollIntoView({behavior:"smooth",block:"center"}),t.classList.contains("m43-shake")||(t.classList.add("m43-shake"),setTimeout(()=>{t.classList.remove("m43-shake")},400)))}}return o(n),s}function E(e){if(!e)return!0;const t=e.closest("form");if(!t)return!0;const n=u,s=t.querySelector(n.selectors.email),i=t.querySelector(n.selectors.confirmEmail),a=e.closest(".oneField");if(!a)return!0;const c=r("validateField");a.querySelectorAll(".m43-inline-error").forEach(e=>e.remove());let l=!0;if(e.classList.contains("calc-email")){const t=(e.value||"").trim();if(t&&!d(t)&&(m(a,n.messages.emailInvalid),l=!1),i){const e=i.closest(".oneField");e?.querySelectorAll(".m43-inline-error").forEach(e=>e.remove());const r=t.toLowerCase(),o=(i.value||"").trim().toLowerCase();o&&r!==o&&m(e,n.messages.emailMismatch)}}if(e.classList.contains("calc-confirmEmail")){const t=s?(s.value||"").trim().toLowerCase():"",r=(e.value||"").trim().toLowerCase();r&&t&&t!==r&&(m(a,n.messages.emailMismatch),l=!1)}if(e.classList.contains("calc-phone")){const t=f(e);t&&10!==t.length&&(m(a,n.messages.phoneInvalid),l=!1)}return o(c),l}function w(e){const n=r("handleNavClick"),s=e.target.closest(".wfPageNextButton");if(!s)return void o(n);const i=s.closest("form");if(!i)return void o(n);const a=b(i);if(t("nav validation result:",a),!a)return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),o(n),!1;o(n)}function L(){if(!(window.wFORMS&&wFORMS.behaviors&&wFORMS.behaviors.paging&&wFORMS.behaviors.paging.run))return!1;if(wFORMS.behaviors.paging.run.__m43Wrapped)return!0;const e=wFORMS.behaviors.paging.run;function t(){const t=r("wrappedPagingRun"),n=document.querySelector(u.selectors.form);if(n&&!b(n))return o(t),!1;const s=e.apply(this,arguments);return o(t),s}return t.__m43Wrapped=!0,wFORMS.behaviors.paging.run=t,!0}if(document.addEventListener("submit",function(e){const n=r("handleSubmit"),s=e.target;if(!s||"FORM"!==s.tagName)return void o(n);const i=b(s);if(t("submit validation result:",i),!i)return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),o(n),!1;o(n)},!0),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(u.selectors.form).forEach(e=>{!function(e){if(!e)return;e.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"], input[type="password"], textarea, select').forEach(e=>{y(e),e.addEventListener("input",()=>y(e)),e.addEventListener("change",()=>y(e)),e.addEventListener("blur",()=>y(e),!0)})}(e),function(e){if(!e)return;e.querySelectorAll(u.selectors.phone).forEach(e=>a(e))}(e),p&&g(e),function(e){if(!e)return;const t=e.querySelector(u.selectors.formName);if(!t)return;const n=document.querySelector(u.selectors.formTitle),r=n?n.textContent.trim():"";r&&(t.hasAttribute("readonly")||t.setAttribute("readonly","readonly"),t.value=r)}(e)})}),document.addEventListener("input",function(e){const t=e.target;if(t&&"INPUT"===t.tagName&&(y(t),t.classList.contains("calc-phone")&&a(t),(t.classList.contains("calc-email")||t.classList.contains("calc-confirmEmail")||t.classList.contains("calc-phone"))&&E(t),t.classList.contains("calc-fname")||t.classList.contains("calc-lname")||t.classList.contains("calc-phone"))){const e=t.closest("form");e&&p&&g(e)}}),document.addEventListener("blur",function(e){const t=e.target;!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&"SELECT"!==t.tagName||(y(t),(t.classList.contains("calc-email")||t.classList.contains("calc-confirmEmail")||t.classList.contains("calc-phone"))&&E(t))},!0),document.addEventListener("mousedown",w,!0),document.addEventListener("click",w,!0),!L()){let e=0;const t=setInterval(function(){e++,(L()||e>50)&&clearInterval(t)},100)}}();