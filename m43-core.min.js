!function(){window.M43_FORM_BRAND&&document&&document.documentElement&&(document.documentElement.dataset.m43Brand=window.M43_FORM_BRAND);const e=!!window.M43_DEBUG;function t(){e&&console.log.apply(console,["[M43]",...arguments])}function n(){return!!window.M43_PROFILE}function r(e){return n()&&window.performance&&performance.now?{label:e,start:performance.now()}:null}function i(e){if(!(n()&&e&&window.performance&&performance.now))return;const t=performance.now()-e.start;console.log("[M43 PROFILE]",e.label+":",t.toFixed(2)+"ms")}const a={mask:"(000) 000-0000",lazy:!0,placeholderChar:"_"},o={promise:null};function s(e){if(!e||"true"===e.dataset.m43MaskApplied)return;if(e.disabled)return;const t=(e.getAttribute("type")||"").toLowerCase();t&&"tel"!==t&&"text"!==t||(window.IMask?Promise.resolve(window.IMask):(o.promise||(o.promise=new Promise((e,t)=>{const n=document.querySelector("script[data-m43-imask]");if(n)return n.addEventListener("load",()=>e(window.IMask)),void n.addEventListener("error",t);const r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/imask@7.6.1/dist/imask.min.js",r.async=!0,r.defer=!0,r.setAttribute("data-m43-imask","true"),r.onload=()=>e(window.IMask),r.onerror=t,document.head.appendChild(r)})),o.promise)).then(t=>{if(!t||"true"===e.dataset.m43MaskApplied)return;try{e.__m43IMask&&"function"==typeof e.__m43IMask.destroy&&e.__m43IMask.destroy()}catch(e){}e.__m43IMask=null;const n=t(e,a);e.__m43IMask=n,e.dataset.m43MaskApplied="true",n.on("accept",()=>{y(e),e.classList.contains("calc-phone")&&L(e)}),n.on("complete",()=>{y(e),e.classList.contains("calc-phone")&&L(e)});try{n.updateValue()}catch(e){}y(e)}).catch(()=>{})}const c={selectors:{form:"form",email:"input.calc-email",confirmEmail:"input.calc-confirmEmail",phone:"input.calc-phone",identifierPhone:"input.calc-phone",contactLookupIdentifier:"input.calc-contactLookupIdentifier",formName:"input.calc-formName",formTitle:".wFormTitle"},messages:{emailRequired:"Email is required.",emailInvalid:"Enter a valid email address.",confirmRequired:"Please confirm your email.",emailMismatch:"Email addresses must match.",phoneRequired:"Phone number is required.",phoneInvalid:"Enter a valid 10-digit phone number."}};function l(e,t){const n=Array.isArray(e)?e.slice():{...e};return t&&"object"==typeof t?(Object.keys(t).forEach(r=>{const i=e?e[r]:void 0,a=t[r];a&&"object"==typeof a&&!Array.isArray(a)?n[r]=l(i||{},a):n[r]=a}),n):n}const u=function(){const e=window.M43_FORM_CONFIG;return l(c,e)}();function d(e,t){if(!e)return;e.classList.add("m43-field-container-error");const n=e.querySelector("input, textarea, select"),r=document.createElement("div");r.className="m43-inline-error",r.textContent=t;const i=(n&&n.id?n.id:"m43")+"-error";if(r.id=i,n){n.setAttribute("aria-invalid","true");const e=n.getAttribute("aria-describedby");e?e.split(" ").includes(i)||n.setAttribute("aria-describedby",e+" "+i):n.setAttribute("aria-describedby",i)}e.appendChild(r)}function m(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function f(e){if(!e)return"";const t=e.__m43IMask;return t&&"string"==typeof t.unmaskedValue?t.unmaskedValue:(e.value||"").replace(/\D/g,"")}const p="boolean"!=typeof window.M43_ENABLE_IDENTIFIER||window.M43_ENABLE_IDENTIFIER,h={"à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","ā":"a","ă":"a","ą":"a","æ":"ae","ç":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ď":"d","đ":"d","è":"e","é":"e","ê":"e","ë":"e","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","ğ":"g","ġ":"g","ģ":"g","ĥ":"h","ì":"i","í":"i","î":"i","ï":"i","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","ñ":"n","ń":"n","ņ":"n","ň":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ō":"o","ŏ":"o","ő":"o","œ":"oe","ŕ":"r","ŗ":"r","ř":"r","ś":"s","ŝ":"s","ş":"s","š":"s","ß":"ss","ţ":"t","ť":"t","ț":"t","ù":"u","ú":"u","û":"u","ü":"u","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","ý":"y","ÿ":"y","ź":"z","ż":"z","ž":"z","þ":"th"};function v(e){if(!e)return null;const t=function(e){let t="";for(let n=0;n<e.length;n++){const r=e.charAt(n);t+=h[r]||r}return t}(e.trim().toLowerCase());return t.length?t:null}function g(e){if(!e)return;const t=e.querySelector("input.calc-fname"),n=e.querySelector("input.calc-lname"),r=e.querySelector(u.selectors.identifierPhone),i=e.querySelector(u.selectors.contactLookupIdentifier);if(!(t&&n&&r&&i))return;i.hasAttribute("readonly")||i.setAttribute("readonly","readonly");const a=v(t.value),o=function(e){const t=v(e);if(!t)return null;const n=t.replace(/[^a-z0-9]/g,"");return n.length?n:null}(n.value),s=function(e){const t=f(e);return t&&t.length?t:null}(r);if(!a||!o||!s)return void(i.value="");const c=a.substring(0,1);i.value=c+o+s}function y(e){if(!e||!e.classList)return;const t=e.getAttribute&&e.getAttribute("type")||"";if("button"===t||"submit"===t||"reset"===t)return;if("radio"===t||"checkbox"===t||"hidden"===t)return;const n=(e.value||"").toString().trim();e.classList.toggle("m43-has-value",n.length>0)}function b(e){if(!e)return null;return e.querySelector(".wfPage.wfCurrentPage")||e}function w(e,t){return function(e){if(!e)return!1;if(e.disabled)return!1;if("hidden"===(e.getAttribute&&(e.getAttribute("type")||"").toLowerCase()||""))return!1;const t=window.getComputedStyle(e);return!("none"===t.display||"hidden"===t.visibility||null===e.offsetParent&&"fixed"!==t.position||e.getClientRects&&0===e.getClientRects().length)}(e)&&function(e,t){if(!e)return!1;const n=e.closest&&e.closest(".wfPage");return!n||(!(!n.classList||!n.classList.contains("wfCurrentPage"))||b(t)===t)}(e,t)}function E(e){const n=r("validateForm");let a=!0;!function(e){e.querySelectorAll(".m43-inline-error").forEach(e=>e.remove()),e.querySelectorAll(".oneField.m43-field-container-error").forEach(e=>e.classList.remove("m43-field-container-error"));const t=e.querySelector(".m43-error-summary");t&&(t.classList.add("m43-summary-resolving"),setTimeout(()=>{t.remove()},300)),e.querySelectorAll('[aria-invalid="true"]').forEach(e=>{e.removeAttribute("aria-invalid");const t=e.getAttribute("aria-describedby");if(!t)return;const n=t.split(" ").filter(e=>!e.endsWith("-error")).join(" ").trim();n?e.setAttribute("aria-describedby",n):e.removeAttribute("aria-describedby")})}(e);const o=[],s=u;t("validateForm called");const c=b(e),l=c.querySelector(s.selectors.email),p=c.querySelector(s.selectors.confirmEmail),h=c.querySelectorAll(s.selectors.phone);if(l&&w(l,e)){const e=l.closest(".oneField"),t=(l.value||"").trim();t?m(t)||(d(e,s.messages.emailInvalid),o.push({message:s.messages.emailInvalid,fieldId:l.id}),a=!1):(d(e,s.messages.emailRequired),o.push({message:s.messages.emailRequired,fieldId:l.id}),a=!1)}if(p&&w(p,e)){const e=p.closest(".oneField"),t=l?(l.value||"").trim().toLowerCase():"",n=(p.value||"").trim().toLowerCase();n?t&&n&&t!==n&&(d(e,s.messages.emailMismatch),o.push({message:s.messages.emailMismatch,fieldId:p.id}),a=!1):(d(e,s.messages.confirmRequired),o.push({message:s.messages.confirmRequired,fieldId:p.id}),a=!1)}h&&h.length&&h.forEach(t=>{if(!w(t,e))return;const n=t.closest(".oneField"),r=f(t);r?10!==r.length&&(d(n,s.messages.phoneInvalid),o.push({message:s.messages.phoneInvalid,fieldId:t.id}),a=!1):(d(n,s.messages.phoneRequired),o.push({message:s.messages.phoneRequired,fieldId:t.id}),a=!1)});if(c.querySelectorAll('input[type="date"], input.validate-date').forEach(t=>{if(!w(t,e))return;const n=t.closest(".oneField"),r=(t.value||"").trim();if(t.hasAttribute("required")&&!r)return d(n,"Date is required."),o.push({message:"Date is required.",fieldId:t.id}),void(a=!1);r&&!q(r)&&(d(n,"Enter a valid calendar date (format: YYYY-MM-DD)."),o.push({message:"Enter a valid calendar date (format: YYYY-MM-DD).",fieldId:t.id}),a=!1)}),!a){!function(e,t){if(!e||!t||!t.length)return;const n=e.querySelector(".m43-error-summary");n&&n.remove();const r=document.createElement("div");r.className="m43-error-summary",r.setAttribute("role","alert"),r.setAttribute("aria-live","assertive");const i=document.createElement("div");i.className="m43-error-summary-heading",i.textContent="Please correct the following:",r.appendChild(i);const a=document.createElement("ul");t.forEach(t=>{const n="string"==typeof t?t:t.message,r="string"==typeof t?null:t.fieldId,i=document.createElement("li"),o=document.createElement("a");o.href="#",o.textContent=n,o.addEventListener("click",function(t){t.preventDefault();let n=null;r&&(n=e.querySelector("#"+CSS.escape(r))),n||(n=e.querySelector('[aria-invalid="true"]')),n&&(n.focus({preventScroll:!1}),n.scrollIntoView({behavior:"smooth",block:"center"}))}),i.appendChild(o),a.appendChild(i)}),r.appendChild(a),e.prepend(r),r.scrollIntoView({behavior:"smooth",block:"start"})}(e,o);const t=e.querySelector(".m43-field-container-error");if(t){const e=t.querySelector("input, textarea, select");e&&(e.focus({preventScroll:!1}),e.scrollIntoView({behavior:"smooth",block:"center"}),t.classList.contains("m43-shake")||(t.classList.add("m43-shake"),setTimeout(()=>{t.classList.remove("m43-shake")},400)))}}return i(n),a}function L(e){if(!e)return!0;const t=e.closest("form");if(!t)return!0;if(!w(e,t))return!0;const n=u,a=t.querySelector(n.selectors.email),o=t.querySelector(n.selectors.confirmEmail),s=e.closest(".oneField");if(!s)return!0;const c=r("validateField");s.querySelectorAll(".m43-inline-error").forEach(e=>e.remove());let l=!0;if(e.classList.contains("calc-email")){const t=(e.value||"").trim();if(t&&!m(t)&&(d(s,n.messages.emailInvalid),l=!1),o){const e=o.closest(".oneField");e?.querySelectorAll(".m43-inline-error").forEach(e=>e.remove());const r=t.toLowerCase(),i=(o.value||"").trim().toLowerCase();i&&r!==i&&d(e,n.messages.emailMismatch)}}if(e.classList.contains("calc-confirmEmail")){const t=a?(a.value||"").trim().toLowerCase():"",r=(e.value||"").trim().toLowerCase();r&&t&&t!==r&&(d(s,n.messages.emailMismatch),l=!1)}if(e.classList.contains("calc-phone")){const t=f(e);t?10!==t.length&&(d(s,n.messages.phoneInvalid),l=!1):(d(s,n.messages.phoneRequired),l=!1)}if("date"===e.type||e.classList.contains("validate-date")){const t=(e.value||"").trim();t&&!q(t)&&(d(s,"Enter a valid calendar date (format: YYYY-MM-DD)."),l=!1)}return i(c),l}function S(e){if(!e)return;const t=e.querySelectorAll(u.selectors.phone);t&&t.length&&t.forEach(e=>{const t=f(e);t&&e.value!==t&&(e.value=t)})}function I(e){if(!e)return;e.querySelectorAll('input[type="date"], input.validate-date').forEach(e=>{if(!e.value)return;const t=e.value.split("-");if(3===t.length){const[n,r,i]=t;n&&r&&i&&(e.value=`${n}-${r.padStart(2,"0")}-${i.padStart(2,"0")}`)}})}function q(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return!1;const t=e.split("-"),n=parseInt(t[0],10),r=parseInt(t[1],10),i=parseInt(t[2],10),a=new Date(n,r-1,i);return a.getFullYear()===n&&a.getMonth()===r-1&&a.getDate()===i}function A(e){const n=r("handleNavClick"),a=e.target.closest(".wfPageNextButton");if(!a)return void i(n);const o=a.closest("form");if(!o)return void i(n);S(o),I(o);const s=E(o);if(t("nav validation result:",s),!s)return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),i(n),!1;i(n)}function M(){if(!(window.wFORMS&&wFORMS.behaviors&&wFORMS.behaviors.paging&&wFORMS.behaviors.paging.run))return!1;if(wFORMS.behaviors.paging.run.__m43Wrapped)return!0;const e=wFORMS.behaviors.paging.run;function t(){const t=r("wrappedPagingRun"),n=document.querySelector(u.selectors.form);if(n&&S(n),n&&I(n),n&&!E(n))return i(t),!1;const a=e.apply(this,arguments);return i(t),a}return t.__m43Wrapped=!0,wFORMS.behaviors.paging.run=t,!0}if(document.addEventListener("submit",function(e){const n=r("handleSubmit"),a=e.target;if(!a||"FORM"!==a.tagName)return void i(n);const o=E(a);if(S(a),I(a),t("submit validation result:",o),!o)return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),i(n),!1;i(n)},!0),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(u.selectors.form).forEach(e=>{!function(e){if(!e)return;e.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"], input[type="password"], textarea, select').forEach(e=>{y(e),e.addEventListener("input",()=>y(e)),e.addEventListener("change",()=>y(e)),e.addEventListener("blur",()=>y(e),!0)})}(e),function(e){if(!e)return;e.querySelectorAll(u.selectors.phone).forEach(e=>s(e))}(e),function(e){if(!e)return;e.querySelectorAll('input[type="date"], input.validate-date').forEach(e=>{if("date"!==e.type||e.min||(e.min="1900-01-01"),e.value){const t=e.value.split("-");if(3===t.length){const[n,r,i]=t;n&&r&&i&&(e.value=`${n}-${r.padStart(2,"0")}-${i.padStart(2,"0")}`)}}})}(e),p&&g(e),function(e){if(!e)return;const t=e.querySelector(u.selectors.formName);if(!t)return;const n=document.querySelector(u.selectors.formTitle),r=n?n.textContent.trim():"";r&&(t.hasAttribute("readonly")||t.setAttribute("readonly","readonly"),t.value=r)}(e)})}),document.addEventListener("input",function(e){const t=e.target;if(t&&"INPUT"===t.tagName&&(y(t),t.classList.contains("calc-phone")&&s(t),(t.classList.contains("calc-email")||t.classList.contains("calc-confirmEmail")||t.classList.contains("calc-phone")||"date"===t.type||t.classList.contains("validate-date"))&&L(t),t.classList.contains("calc-fname")||t.classList.contains("calc-lname")||t.classList.contains("calc-phone"))){const e=t.closest("form");e&&p&&g(e)}}),document.addEventListener("blur",function(e){const t=e.target;!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&"SELECT"!==t.tagName||(y(t),(t.classList.contains("calc-email")||t.classList.contains("calc-confirmEmail")||t.classList.contains("calc-phone")||"date"===t.type||t.classList.contains("validate-date"))&&L(t))},!0),document.addEventListener("mousedown",A,!0),document.addEventListener("click",A,!0),!M()){let e=0;const t=setInterval(function(){e++,(M()||e>50)&&clearInterval(t)},100)}}();